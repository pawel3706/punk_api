(this.webpackJsonppunk_api_project=this.webpackJsonppunk_api_project||[]).push([[0],{22:function(e,t,a){e.exports=a.p+"static/media/keg.2b3c14e3.png"},25:function(e,t,a){e.exports=a(38)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),l=a(2),i=a(3),s=a(5),u=a(4),m=a(6),d=(a(30),a(12)),p=a(11),h=a(21),f=a(10),g=a(22),v=a.n(g);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var N=r.a.createContext(),y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={products:[],modalIsOpen:!1,modalProduct:"",cart:"",totalAmount:0,pageLimit:12,currentPage:1,productNumber:325,searchPhrase:"",showOptions:!1,prices:[]},a.fetchData=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.map((function(e){var t=e.id,n=e.image_url,r=e.name,c=e.description;n=n||v.a;var o=a.state.prices.findIndex((function(e){return e.id===t})),l=-1!==o?a.state.prices[o].price:Math.floor(46*Math.random()+5);return-1===o&&a.state.prices.push({id:t,price:l}),{id:t,image_url:n,name:r,text:c,price:l,size:{height:199.469,width:-1!==n.indexOf("keg")?100:70},inCart:a.state.cart.length>0&&-1!==a.state.cart.findIndex((function(e){return e.id===t})),count:0,total:0,avaliableProducts:9}}))})).catch((function(e){return console.log("B\u0142\u0105d",e)}))},a.getProducts=function(){var e=a.state,t=e.pageLimit,n=e.currentPage,r="https://api.punkapi.com/v2/beers?page=".concat(n,"&per_page=").concat(t);a.fetchData(r).then((function(e){var t=e;a.setState({products:t})}))},a.getSearchOptions=function(e){var t=e;[" ","#","&"].forEach((function(e){return t=t.split(e).join(" "===e?"_":"")}));var n="https://api.punkapi.com/v2/beers?beer_name=".concat(t);a.fetchData(n).then((function(t){a.setState({searchPhrase:e,products:Object(f.a)(t),showOptions:!0})}))},a.resetProducts=function(){a.setState({products:[],currentPage:1})},a.resetShowOptions=function(){a.setState({showOptions:!1})},a.openModal=function(e){var t=a.state.products.find((function(t){return t.id===e}));a.setState({modalIsOpen:!0,modalProduct:t})},a.closeModal=function(){a.setState({modalIsOpen:!1,modalProduct:""})},a.changeProductCount=function(e,t){var n=a.state.cart,r=n.findIndex((function(t){return t.id===e})),c=n[r];t?c.count--:c.count++,c.total=c.count*c.price,a.setState({cart:a.state.cart},(function(){return a.changeTotalAmount()}))},a.changeTotalAmount=function(){var e=0;Object(f.a)(a.state.cart).forEach((function(t){return e+=t.total})),a.setState({totalAmount:e})},a.addToCart=function(e){var t=Object(f.a)(a.state.products),n=t.findIndex((function(t){return t.id===e})),r=t[n];r.inCart=!0,r.count=1,r.total=r.price,a.setState({cart:[].concat(Object(f.a)(a.state.cart),[r]),products:t},(function(){return a.changeTotalAmount()}))},a.removeItemFromCart=function(e){var t=a.state,n=t.cart,r=t.products,c=n.find((function(t){return t.id===e})),o=n.indexOf(c);n.splice(o,1);var l=r.find((function(t){return t.id===e}));l&&(l.inCart=!1,l.count=0,l.total=0),a.setState({products:r,cart:n},(function(){return a.changeTotalAmount()}))},a.removeAllFromCart=function(){var e=Object(f.a)(a.state.products);e.filter((function(e){return!0===e.inCart})).map((function(e){return e.inCart=!1})),a.setState({products:e,cart:""},(function(){return a.changeTotalAmount()}))},a.changePage=function(e){"previous"===e?a.setState({currentPage:a.state.currentPage-2},(function(){return a.getProducts()})):"next"===e?a.setState({currentPage:a.state.currentPage+2},(function(){return a.getProducts()})):a.setState({currentPage:e},(function(){return a.getProducts()}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(N.Provider,{value:b({},this.state,{getProducts:this.getProducts,openModal:this.openModal,closeModal:this.closeModal,addToCart:this.addToCart,changeProductCount:this.changeProductCount,changeTotalAmount:this.changeTotalAmount,removeItemFromCart:this.removeItemFromCart,removeAllFromCart:this.removeAllFromCart,changePage:this.changePage,getSearchOptions:this.getSearchOptions,resetShowOptions:this.resetShowOptions,resetProducts:this.resetProducts})},this.props.children)}}]),t}(n.Component),x=N.Consumer,O=function(e){var t=e.history.location.pathname;return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-primary"},r.a.createElement("div",{className:"container"},r.a.createElement("ul",{className:"navbar-nav w-100 flex-row justify-content-between"},r.a.createElement("li",{className:"nav-item d-flex align-items-center"},"/"===t?r.a.createElement("span",{className:"nav-link",style:{cursor:"pointer"}},"Strona G\u0142\xf3wna"):r.a.createElement(d.b,{to:"/",className:"nav-link"},"Strona G\u0142\xf3wna")),r.a.createElement("li",{className:"nav-item d-flex align-items-center"},r.a.createElement(d.b,{to:"/cart",className:"nav-link mr-2"},r.a.createElement("i",{className:"fas fa-shopping-cart",style:{fontSize:"1.5rem"}})),r.a.createElement(x,null,(function(e){var t=e.totalAmount;return r.a.createElement("span",{className:"text-white-50"},r.a.createElement("span",{className:"mr-1"},"".concat(t,",00")),"PLN")}))))))},j=function(){return r.a.createElement("div",{className:"cart-headers container-fluid d-none d-md-block"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",{className:"text-center text-uppercase text-secondary"},"Produkt")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",{className:"text-center text-uppercase text-secondary"}," Nazwa")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",{className:"text-center text-uppercase text-secondary"},"Cena")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",{className:"text-center text-uppercase text-secondary"},"Ilo\u015b\u0107")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",{className:"text-center text-uppercase text-secondary"},"Usu\u0144")),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("p",{className:"text-center text-uppercase text-secondary"},"Warto\u015b\u0107"))))},k=function(e){var t=e.id,a=e.count,n=e.avaliableProducts;return r.a.createElement(x,null,(function(e){var c=e.changeProductCount;return r.a.createElement("ul",{className:"pagination mb-2 mb-md-0"},r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:!a,onClick:function(){return c(t,"decrement")},className:"page-link text-body"},"-")),r.a.createElement("li",{className:"page-item"},r.a.createElement("span",{className:"page-link text-body"},a)),r.a.createElement("li",{className:"page-item"},r.a.createElement("button",{disabled:a===n,onClick:function(){return c(t)},className:"page-link text-body"},"+")))}))},w=function(e){var t=e.id,a=e.img,n=e.name,c=e.price,o=e.count,l=e.total,i=e.avaliableProducts;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 col-md-2 d-flex justify-content-center align-items-center mx-auto p-1"},r.a.createElement("img",{src:a,style:{height:"65px"},alt:n})),r.a.createElement("div",{className:"col-10 col-md-2 d-flex justify-content-center align-items-center mx-auto"},r.a.createElement("h5",{className:"text-center"},n)),r.a.createElement("div",{className:"col-10 col-md-2 d-flex justify-content-center align-items-center mx-auto"},r.a.createElement("h5",{className:"text-center"},"".concat(c," PLN"))),r.a.createElement("div",{className:"col-10 col-md-2 d-flex justify-content-center align-items-center mx-auto"},r.a.createElement(k,{id:t,count:o,avaliableProducts:i})),r.a.createElement(x,null,(function(e){var a=e.removeItemFromCart;return r.a.createElement("div",{className:"col-10 col-md-2 d-flex justify-content-center align-items-center mx-auto"},r.a.createElement("div",{onClick:function(){return a(t)},style:{cursor:"pointer"},className:"trash-icon"},r.a.createElement("i",{className:"fas fa-trash text-warning"})))})),r.a.createElement("div",{className:"col-10 col-md-2 d-flex justify-content-center align-items-center mx-auto"},r.a.createElement("h5",{className:"text-center"},"Razem: ",r.a.createElement("span",null,l),",00 PLN")))},P=function(e){var t=e.data;return r.a.createElement("div",{className:"cart-list container-fluid"},t&&t.map((function(e,t){var a=e.id,n=e.image_url,c=e.name,o=e.price,l=e.count,i=e.total,s=e.avaliableProducts;return r.a.createElement(w,{key:a,id:a,img:n,name:c,price:o,count:l,total:i,avaliableProducts:s})})))},C=function(e){var t=e.totalAmount;return r.a.createElement("div",{className:"cart__footer container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-10 col-md-12 d-flex flex-column align-items-center align-items-md-end mt-4 mx-auto"},r.a.createElement("div",{className:"d-flex flex-column flex-sm-row justify-content-center align-items-center text-uppercase mr-md-5 mb-2 text-center"},r.a.createElement("h6",{className:"mb-0"},"Razem do zap\u0142aty:"),r.a.createElement("span",{className:"h4 text-danger font-weight-bolder ml-2 mb-0"},t,",00 PLN")),r.a.createElement(x,null,(function(e){var t=e.removeAllFromCart;return r.a.createElement("div",{onClick:t,className:"btn btn-danger text-uppercase mr-md-5 mb-3"},"Opr\xf3\u017cnij koszyk")})))))},S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(x,null,(function(e){return r.a.createElement(r.a.Fragment,null,0===e.cart.length?r.a.createElement("h3",{className:"py-4 text-center"},"Tw\xf3j koszyk jest pusty"):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"py-4 text-center"},"Tw\xf3j koszyk"),r.a.createElement(j,null),r.a.createElement(P,{data:e.cart}),r.a.createElement(C,{totalAmount:e.totalAmount})))}))}}]),t}(n.Component),z=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,a=t.inputValue,n=t.searchRes,c=t.options;return r.a.createElement(r.a.Fragment,null,a&&0!==n.length&&0!==c.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"list-group position-absolute"},n.map((function(t){return r.a.createElement("li",{key:t,className:"list-group-item",onClick:e.props.handleClick},t)})))))}}]),t}(n.Component),A=(a(36),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={productNumber:325,perPage:25,inputValue:"",searchRes:"",options:[]},a.handleSubmit=function(e){if(e.preventDefault(),""!==a.state.inputValue){var t=a.state.inputValue;a.context.getSearchOptions(t),"/search"!==a.props.history.location.pathname&&a.props.history.push("/search"),a.setState({inputValue:""})}},a.handleInput=function(e){var t=a.state.options.filter((function(t){return-1!==t.toLowerCase().indexOf(e.target.value.toLowerCase())}));a.setState({searchRes:t,inputValue:e.target.value})},a.handleClick=function(e){var t=e.target.innerText;a.context.getSearchOptions(t),"/search"!==a.props.history.location.pathname&&a.props.history.push("/search"),a.setState({inputValue:""})},a.getOptionNames=function(){for(var e=a.state,t=e.productNumber,n=e.perPage,r=e.options,c=1;c<=t/n;c++){var o="https://api.punkapi.com/v2/beers?page=".concat(c);fetch(o).then((function(e){return e.json()})).then((function(e){return e.map((function(e){return r.push(e.name)}))})).catch((function(e){return console.log("B\u0142\u0105d",e)}))}a.setState({options:r})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getOptionNames()}},{key:"render",value:function(){return r.a.createElement("div",{className:"search-engine container my-3 my-md-5 pt-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-9 col-lg-7 px-2 mx-auto position-relative"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{value:this.state.inputValue,onChange:this.handleInput,className:"form-control",placeholder:"Wyszukaj piwo...",type:"text"}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-warning",type:"submit"},"Wyszukaj")))),r.a.createElement(z,{data:this.state,handleClick:this.handleClick}))))}}]),t}(n.Component));A.contextType=N;var F=A,_=function(e){var t=e.data,a=t.id,n=t.image_url,c=t.name,o=t.text,l=t.price,i=t.size,s=t.inCart,u=o.slice(0,150);return r.a.createElement("div",{className:"col-md-6 col-lg-4 d-flex align-items-stretch p-2"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"row flex-grow-1 no-gutters"},r.a.createElement("div",{className:"col-4 d-flex flex-column align-items-center justify-content-around pl-3 py-2"},r.a.createElement("img",{className:"card-img",style:{height:"".concat(i.height,"px"),width:"".concat(i.width,"px")},src:n,alt:c}),r.a.createElement("span",{className:"price pt-1"},r.a.createElement("i",null,l," z\u0142"))),r.a.createElement("div",{className:"col-8 d-flex align-items-stretch"},r.a.createElement("div",{className:"card-body d-flex flex-column justify-content-between align-items-start"},r.a.createElement("h5",{className:"card-title"},c),r.a.createElement("p",{className:"card-text"},150!==u.length?u:"".concat(u,"...")),r.a.createElement(x,null,(function(e){return r.a.createElement("button",{disabled:!!s,onClick:function(){e.openModal(a),e.addToCart(a)},className:"btn btn-primary"},s?"Dodano do koszyka":"Dodaj do koszyka")})))))))},I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={screenWidth:window.innerWidth,colNumb:""},a.setColNum=function(){a.state.screenWidth>=992?a.setState({colNumb:3}):a.setState({colNumb:2})},a.handleResolutionChange=function(){(a.state.screenWidth>=992?window.innerWidth<992:window.innerWidth>=992)&&(a.setState({screenWidth:window.innerWidth}),a.setColNum())},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResolutionChange)}},{key:"componentDidMount",value:function(){this.setColNum(),window.addEventListener("resize",this.handleResolutionChange)}},{key:"render",value:function(){var e=this;return r.a.createElement(x,null,(function(t){var a=t.products;return r.a.createElement("div",{className:"product-list container"},a.length>0&&e.state.colNumb&&r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement(_,{key:e.id,data:e})})).reduce((function(t,a,n){return n%e.state.colNumb===0&&t.push([]),t[t.length-1].push(a),t}),[]).map((function(e,t){return r.a.createElement("div",{key:t,className:"row"},e)}))))}))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).middleButtons=function(e,t){for(var a=[],n=e;n<=t;n++)a.push(n);return a},a.getPageList=function(e){var t=e.productNumber,n=e.pageLimit,c=e.currentPage,o=e.changePage,l=Math.ceil(t/n),i=Math.max(2,c-1),s=Math.min(l-1,c+1),u="previous",m=s===l-1;return(2===i?[1].concat(Object(f.a)(a.middleButtons(i,i+2)),["next",l]):m?[1,u].concat(Object(f.a)(a.middleButtons(s-2,s)),[l]):[1,u].concat(Object(f.a)(a.middleButtons(i,s)),["next",l])).map((function(e){return r.a.createElement(T,{key:e,name:e,currentPage:c,changePage:o})}))},a.divContainer=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){this.divContainer.current.scrollIntoView()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container",ref:this.divContainer},r.a.createElement("div",{className:"row justify-content-center my-5"},r.a.createElement("div",{className:"pagination"},r.a.createElement(x,null,(function(t){return r.a.createElement(r.a.Fragment,null,e.getPageList(t))})))))}}]),t}(n.Component),T=function(e){var t=e.name,a=e.changePage,n=e.currentPage;return"previous"===t?r.a.createElement("li",{className:"page-item"},r.a.createElement("div",{onClick:function(){return a(t)},className:"page-link",style:{cursor:"pointer"}},r.a.createElement("i",{className:"fas fa-angle-double-left"}))):"next"===t?r.a.createElement("li",{className:"page-item"},r.a.createElement("div",{onClick:function(){return a(t)},className:"page-link",style:{cursor:"pointer"}},r.a.createElement("i",{className:"fas fa-angle-double-right"}))):r.a.createElement("li",{className:"page-item ".concat(t===n?"active":"")},r.a.createElement("div",{onClick:function(){return a(t)},className:"page-link font-weight-bolder",style:{cursor:"pointer"}},t))},W=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.context.getProducts()}},{key:"componentWillUnmount",value:function(){this.context.resetProducts()}},{key:"render",value:function(){return r.a.createElement(x,null,(function(e){var t=e.products;return r.a.createElement(r.a.Fragment,null,t.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null),r.a.createElement(M,null)))}))}}]),t}(n.Component);W.contextType=N;var D=W,L=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillUnmount",value:function(){this.context.resetShowOptions(),this.context.resetProducts()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null,(function(e){var t=e.searchPhrase,a=e.showOptions,n=e.products;return r.a.createElement(r.a.Fragment,null,n.length>0&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-center py-4"},"Wyniki wyszukiwania dla: ".concat(t)),r.a.createElement(I,{list:n})),0===n.length&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"text-center py-4"},"Wyniki wyszukiwania dla: ".concat(t)),r.a.createElement("p",{className:"text-center py-4"},"Brak produkt\xf3w spe\u0142niaj\u0105cych kryteria wy\u015bwietlania")," }"))})))}}]),t}(n.Component);L.contextType=N;var R=L,V=function(){return r.a.createElement("div",{className:"vh-100 d-flex justify-content-center align-items-center"},r.a.createElement("h3",null,"Nie ma takiego adresu!"))},B=(a(37),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null,(function(e){var t=e.modalProduct,a=t.image_url,n=t.name,c=t.price,o=t.size;if(e.modalIsOpen)return r.a.createElement("div",{className:"modal-window"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"modal-window__content col-8 col-md-6 col-lg-4 mx-auto p-4 d-flex flex-column align-items-center"},r.a.createElement("h5",{className:"p-2"},"Dodano produkt do koszyka"),r.a.createElement("img",{className:"modal-window__image",style:{height:"".concat(o.height,"px"),width:"".concat(o.width,"px")},src:a,alt:n}),r.a.createElement("h5",{className:"pt-2"},n),r.a.createElement("h5",{className:"text-muted"},"Cena: ".concat(c," z\u0142")),r.a.createElement("button",{onClick:e.closeModal,className:"btn btn-primary mb-2"},"Wr\xf3\u0107 do zakup\xf3w"),r.a.createElement(d.c,{to:"/cart"},r.a.createElement("button",{onClick:e.closeModal,className:"btn btn-warning mb-3"},"Przejdz do koszyka"))))))})))}),U=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(y,null,r.a.createElement(d.a,{basename:"/punk_api"},r.a.createElement(p.a,{exact:!0,path:["/","/search","/cart"],component:O}),r.a.createElement(p.a,{exact:!0,path:["/","/search"],component:F}),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:D}),r.a.createElement(p.a,{exact:!0,path:"/search",component:R}),r.a.createElement(p.a,{exact:!0,path:"/cart",component:S}),r.a.createElement(p.a,{component:V})),r.a.createElement(B,null)))}}]),t}(n.Component);o.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.d1a15bcc.chunk.js.map